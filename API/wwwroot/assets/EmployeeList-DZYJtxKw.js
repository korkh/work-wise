import{c as q,T as Q,B as te,a as De,r as u,d as A,H as he,g as T,e as X,i as ge,f as Ee,$ as fe,k as n,R as x,m as J,n as R,o as $,C as _,I as g,a0 as be,q as ae,F as Re,L as xe,G as _e,a1 as Ae,E as Ne}from"./index-JK9OeaRB.js";import{D as se}from"./DynamicReducerLoader-BiT-xZ48.js";import{S as ne,D as w}from"./DateInput-B9xSDMfp.js";const je="_employeeDetails_1bu1w_1",Te={employeeDetails:je},Ie=i=>{var s;return((s=i.employeeDetails)==null?void 0:s.isLoading)||!1},oe=i=>{var s;return(s=i.employeeDetails)==null?void 0:s.error},Oe=i=>{var s;return(s=i.employeeDetails)==null?void 0:s.validateErrors},ee=i=>{var s;return(s=i.employeeDetails)==null?void 0:s.form},re=i=>{var s;return(s=i.employeeDetails)==null?void 0:s.readonly},v=q("employeeDetails/fetchEmployeeById",async(i,s)=>{const{extra:t,rejectWithValue:o}=s,c=localStorage.getItem(Q);if(!c)return o("User not found");try{if(!i)throw new Error;const a=JSON.parse(c);if(!a)return o("Invalid token data");const e=await t.api.get(`/employees/${i}`,{headers:{Authorization:`Bearer ${a}`}});if(!e.data)throw new Error;return e.data}catch(a){return console.error("Failed to fetch employee data!",a),o("Failed to fetch employee data")}});var D=(i=>(i.INCORRECT_EMPLOYEE_DATA="incorrect_employee_data",i.INCORRECT_BIRTHDATE="incorrect_birthdate",i.INCORRECT_REGISTRATION_ADDRESS="incorrect_registration_address",i.INCORRECT_PHONE_NUMBER="incorrect_phone_number",i.INCORRECT_EMAIL="incorrect_email",i.INCORRECT_TRANSPORT_INFO="incorrect_transport_info",i.INCORRECT_CONTRACT_DATA="incorrect_contract_data",i.INCORRECT_DOCUMENTS_DATA="incorrect_documents_data",i.INCORRECT_PAYROLLS_DATA="incorrect_payrolls_data",i.NO_DATA="no_data",i.SERVER_ERROR="server_error",i))(D||{});const ie=i=>{if(!i)return[D.NO_DATA];const{firstName:s,lastName:t,birthDay:o,registrationAddress:c,phoneNumber:a,email:e,transportInfo:p,contractData:m,documents:d,payrolls:h}=i,y=[];(!(s!=null&&s.trim())||!(t!=null&&t.trim()))&&y.push(D.INCORRECT_EMPLOYEE_DATA),e!=null&&e.match(/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/)||y.push(D.INCORRECT_EMAIL),a!=null&&a.match(/^\+?[1-9]\d{1,14}$/)||y.push(D.INCORRECT_PHONE_NUMBER),(!c||!c.address1.trim()||!c.city.trim())&&y.push(D.INCORRECT_REGISTRATION_ADDRESS);const f=new Date;return f.setFullYear(f.getFullYear()-18),o>=f&&y.push(D.INCORRECT_BIRTHDATE),m&&m.acceptionDate&&m.dismissalDate&&m.acceptionDate>=m.dismissalDate&&y.push(D.INCORRECT_CONTRACT_DATA),d!=null&&d.length||y.push(D.INCORRECT_DOCUMENTS_DATA),d==null||d.forEach(N=>{N.expirationDate&&N.expirationDate<new Date&&y.push(D.INCORRECT_DOCUMENTS_DATA)}),p&&!p.drivingLicenseNumber.trim()&&y.push(D.INCORRECT_TRANSPORT_INFO),h!=null&&h.length||y.push(D.INCORRECT_PAYROLLS_DATA),y},G=q("employeeDetails/updateEmployeeData",async(i,s)=>{const{extra:t,rejectWithValue:o,getState:c}=s,a=ee(c()),e=ie(a);if(e.length)return o(e);const p=localStorage.getItem(Q);if(!p)return o([D.NO_DATA]);try{const m=JSON.parse(p);if(!m)return o([D.NO_DATA]);const d=await t.api.put(`/employees/${a==null?void 0:a.id}`,a,{headers:{Authorization:`Bearer ${m}`}});if(!d.data)throw new Error;return d.data}catch(m){return console.error("Failed to update employee data!",m),o([D.SERVER_ERROR])}}),V=q("employeeDetails/deleteEmployeeData",async(i,s)=>{const{extra:t,rejectWithValue:o,getState:c}=s,a=ee(c()),e=ie(a);if(e.length)return o(e);const p=localStorage.getItem(Q);if(!p)return o([D.NO_DATA]);try{const m=JSON.parse(p);if(!m)return o([D.NO_DATA]);const d=await t.api.delete(`/employees/${a==null?void 0:a.id}`,{headers:{Authorization:`Bearer ${m}`}});if(!d.data)throw new Error;return d.data}catch(m){return te.error("Failed to delete employee data!"),console.error("Failed to delete employee data!",m),o([D.SERVER_ERROR])}}),ve={isLoading:!1,readonly:!0,error:void 0,data:void 0},we=De({name:"employeeDetails",initialState:ve,reducers:{setReadonly:(i,s)=>{i.readonly=s.payload},cancelEdit:i=>{i.readonly=!0,i.validateErrors=void 0,i.form=i.data},updateEmployee:(i,s)=>{const{id:t,...o}=s.payload;i.form&&t!==void 0&&(i.form.id=t,i.form={...i.form,...o})}},extraReducers:i=>{i.addCase(v.pending,s=>{s.error=void 0,s.isLoading=!0}).addCase(v.fulfilled,(s,t)=>{s.isLoading=!1,s.data=t.payload,s.form=t.payload}).addCase(v.rejected,(s,t)=>{s.isLoading=!1,s.error=t.payload}).addCase(G.pending,s=>{s.validateErrors=void 0,s.isLoading=!0}).addCase(G.fulfilled,(s,t)=>{s.isLoading=!1,s.data=t.payload,s.form=t.payload,s.readonly=!0,s.validateErrors=void 0}).addCase(G.rejected,(s,t)=>{s.isLoading=!1,s.validateErrors=t.payload}).addCase(V.fulfilled,(s,t)=>{s.isLoading=!1,s.data=t.payload,s.form=t.payload}).addCase(V.rejected,(s,t)=>{s.isLoading=!1,s.validateErrors=t.payload}).addCase(V.pending,s=>{s.validateErrors=void 0,s.isLoading=!0})}}),{actions:C,reducer:le}=we,ke=u.memo(function(s){const{className:t}=s,{t:o}=A(),c=he(),a=c==null?void 0:c.role.includes("Admin"),e=T(re),[p,m]=u.useState(!1),d=X(),h=ge(),y=Ee(),f=u.useCallback(()=>{d(C.setReadonly(!1))},[d]),N=u.useCallback(()=>{d(C.setReadonly(!1)),m(!0)},[d]),O=u.useCallback(()=>{d(C.cancelEdit())},[d]),b=u.useCallback(()=>{d(G()),h()},[d,h]),I=u.useCallback(()=>{d(V()),y(fe())},[d,y]);return n.jsx(ne,{padding:"24",max:!0,border:"partial",children:n.jsxs(x,{max:!0,justify:"between",className:J("",[t],{}),children:[n.jsx(R,{title:o("Employee details")}),a&&n.jsx(n.Fragment,{children:e?n.jsxs(n.Fragment,{children:[n.jsx($,{onClick:f,"data-testid":"EditableProfileCardHeader.EditButton",children:o("Edit")}),n.jsx($,{onClick:N,"data-testid":"EditableProfileCardHeader.DeleteButton",children:o("Delete")})]}):n.jsxs(x,{gap:"8",children:[n.jsx($,{onClick:O,"data-testid":"EditableProfileCardHeader.CancelButton",color:"error",children:o("Cancel")}),n.jsx($,{onClick:p?I:b,"data-testid":"EditableProfileCardHeader.SaveButton",color:"success",children:o("Confirm")})]})})]})})}),Le=u.memo(function(s){var I,k,L,S,H,P,z,F,B,U,M,Y,K;const{data:t,readonly:o,onChangePosition:c,onChangeContractNumber:a,onChangeAcceptionDate:e,onChangeDismissalDate:p,onChangeeAnnualHolidays:m,onChangeFatherHolidays:d,onChangeEmployementDays:h,onChangeUnpaidHolidays:y,onChangeTruancyDays:f,onChangeAllowedAbsenceDays:N,onChangeUnusedHolidays:O}=s,{t:b}=A();return n.jsxs(x,{max:!0,gap:"24",children:[n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(R,{title:"Contract details"}),n.jsx(g,{size:"s",value:(I=t==null?void 0:t.contractData)==null?void 0:I.position,label:b("Capacity"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.position"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(k=t==null?void 0:t.contractData)==null?void 0:k.contractNumber,label:b("Contract number"),onChange:a,readonly:o,"data-testid":"EmployeeDetailsCard.contractNumber"}),n.jsx(w,{gap:"8",width:"70%",justify:"between",selected:(L=t==null?void 0:t.contractData)==null?void 0:L.acceptionDate,onChange:e||((W,Z)=>{}),label:b("Accepted on"),readonly:o,"data-testid":"EmployeeDetailsCard.acceptionDate"}),n.jsx(w,{gap:"8",width:"70%",justify:"between",selected:(S=t==null?void 0:t.contractData)==null?void 0:S.dismissalDate,onChange:p||((W,Z)=>{}),label:b("Dismissal date"),readonly:o,"data-testid":"EmployeeDetailsCard.dismissalDate"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(H=t==null?void 0:t.contractData)==null?void 0:H.annualHolidays,label:b("Annual holidays"),onChange:m,readonly:o,"data-testid":"EmployeeDetailsCard.annualHolidays"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(z=(P=t==null?void 0:t.contractData)==null?void 0:P.fatherHolidays)==null?void 0:z.toString(),label:b("Father holidays"),onChange:d,readonly:o,"data-testid":"EmployeeDetailsCard.fatherHolidays"})]}),n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(g,{size:"s",type:"number",width:"70%",justify:"between",value:(B=(F=t==null?void 0:t.contractData)==null?void 0:F.employmentDays)==null?void 0:B.toString(),label:b("Employment days"),onChange:h,readonly:!0,"data-testid":"EmployeeDetailsCard.employmentDays"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(U=t==null?void 0:t.contractData)==null?void 0:U.unpaidHolidays,label:b("Unpaid holidays"),onChange:y,readonly:o,"data-testid":"EmployeeDetailsCard.unpaidHolidays"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(M=t==null?void 0:t.contractData)==null?void 0:M.truancyDays,label:b("Truancy days"),onChange:f,readonly:o,"data-testid":"EmployeeDetailsCard.truancyDays"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(Y=t==null?void 0:t.contractData)==null?void 0:Y.allowedAbsenceDays,label:b("Allowed absence days"),onChange:N,readonly:o,"data-testid":"EmployeeDetailsCard.allowedAbsenceDays"}),n.jsx(g,{size:"s",width:"70%",justify:"between",value:(K=t==null?void 0:t.contractData)==null?void 0:K.unusedHolidays,label:b("Unused holidays"),onChange:O,readonly:!0,"data-testid":"EmployeeDetailsCard.unusedHolidays"})]})]})}),Se=u.memo(function(s){const{data:t,readonly:o,onChangeFirstname:c,onChangeLastname:a,onChangeBirthday:e,onChangeEmail:p,onChangePhoneNumber:m}=s,{t:d}=A();return n.jsx(x,{gap:"24",max:!0,children:n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(R,{title:"Personal information"}),n.jsx(g,{size:"s",value:t==null?void 0:t.firstName,label:d("Firstname"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.firstName"}),n.jsx(g,{size:"s",value:t==null?void 0:t.lastName,label:d("Lastname"),onChange:a,readonly:o,"data-testid":"EmployeeDetailsCard.lastName"}),n.jsx(w,{selected:t==null?void 0:t.birthDay,onChange:e||((h,y)=>{}),label:d("Birthday"),readonly:o,"data-testid":"EmployeeDetailsCard.birthDay"}),n.jsx(g,{size:"s",value:t==null?void 0:t.email,label:d("Email"),onChange:p,readonly:o,"data-testid":"EmployeeDetailsCard.email"}),n.jsx(g,{size:"s",width:"88%",justify:"between",value:t==null?void 0:t.phoneNumber,label:d("Phone number"),onChange:m,readonly:o,"data-testid":"EmployeeDetailsCard.phoneNumber"})]})})}),He=u.memo(function(s){var d,h,y,f;const{data:t,readonly:o,onChangeRegistrationAddress:c,onChangeCity:a,onChangeZip:e,onChangeCountry:p}=s,{t:m}=A();return n.jsx(x,{gap:"24",max:!0,children:n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(R,{title:"Registration address"}),n.jsx(g,{size:"s",value:(d=t==null?void 0:t.registrationAddress)==null?void 0:d.address1,label:m("Address"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.address"}),n.jsx(g,{size:"s",value:(h=t==null?void 0:t.registrationAddress)==null?void 0:h.city,label:m("City"),onChange:a,readonly:o,"data-testid":"EmployeeDetailsCard.city"}),n.jsx(g,{size:"s",value:(y=t==null?void 0:t.registrationAddress)==null?void 0:y.zip,label:m("ZIP"),onChange:e,readonly:o,"data-testid":"EmployeeDetailsCard.zip"}),n.jsx(g,{size:"s",value:(f=t==null?void 0:t.registrationAddress)==null?void 0:f.country,label:m("Country"),onChange:p,readonly:o,"data-testid":"EmployeeDetailsCard.country"})]})})}),Pe=u.memo(function(s){var m,d,h,y;const{data:t,readonly:o,onChangeDrivingLicenseNumber:c,onChangeE100CardNumber:a,onChangeExpectedKmPerDay:e}=s,{t:p}=A();return n.jsx(x,{gap:"24",max:!0,children:n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(R,{title:"Transport information"}),n.jsx(g,{size:"s",width:"85%",justify:"between",value:(m=t==null?void 0:t.transportInfo)==null?void 0:m.drivingLicenseNumber,label:p("Driving license"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.drivingLicenseNumber"}),n.jsx(g,{size:"s",width:"85%",justify:"between",value:(d=t==null?void 0:t.transportInfo)==null?void 0:d.e_100_CardNumber,label:p("e100 Card Number"),onChange:a,readonly:o,"data-testid":"EmployeeDetailsCard.e100CardNumber"}),n.jsx(g,{size:"s",value:(h=t==null?void 0:t.transportInfo)==null?void 0:h.cars.map(f=>f.manufacturer+" "+f.model).toString(),label:p("Cars"),onChange:()=>{},readonly:o,"data-testid":"EmployeeDetailsCard.cars"}),n.jsx(g,{size:"s",width:"90%",justify:"between",value:(y=t==null?void 0:t.transportInfo)==null?void 0:y.expectedKmPerDay,label:p("Km per day"),onChange:e,readonly:o,"data-testid":"EmployeeDetailsCard.expectedKmPerDay"})]})})}),ze=u.memo(function(s){var m;const{data:t,readonly:o,onChangeDocumentTitle:c,onChangeDocumentIssueDate:a,onChangeDocumentExpirationDate:e}=s,{t:p}=A();return!t&&t!==void 0?(te.error("NO DOCUMENTS FOUND. TRY AGAIN LATER"),n.jsx(R,{title:"NO DOCUMENTS FOUND!"})):n.jsx(x,{gap:"24",max:!0,children:n.jsxs(_,{gap:"16",max:!0,children:[n.jsx(R,{title:"Employee's documents"}),(m=t==null?void 0:t.documents)==null?void 0:m.map((d,h)=>n.jsxs(n.Fragment,{children:[n.jsx(g,{size:"s",width:"97%",value:d.title,label:p("Title"),onChange:y=>c&&c(h,y),readonly:o,"data-testid":"DocumentsData.title"}),n.jsx(w,{gap:"8",width:"93%",label:p("Issue date"),selected:d.issueDate,onChange:(y,f)=>a&&a(h,y,f),readonly:o,"data-testid":"DocumentsData.issueDate"}),n.jsx(w,{gap:"8",width:"92%",selected:d.expirationDate,onChange:(y,f)=>e&&e(h,y,f),label:p("Expire date"),readonly:o,"data-testid":"DocumentsData.expirationDate"})]}))]})})}),Fe=u.memo(function(s){const{className:t,data:o}=s;return n.jsx(ne,{max:!0,padding:"16",className:t,border:"partial",children:n.jsxs(_,{gap:"32",max:!0,children:[(o==null?void 0:o.avatar)&&n.jsx(x,{justify:"center",max:!0,children:n.jsx(be,{size:200,src:o==null?void 0:o.avatar})}),n.jsx(Se,{...s}),(o==null?void 0:o.contractData)&&n.jsx(Le,{...s}),n.jsx(He,{...s}),(o==null?void 0:o.transportInfo)&&n.jsx(Pe,{...s}),(o==null?void 0:o.documents)&&n.jsx(ze,{...s})]})})}),Be={employeeDetails:le},Ue=u.memo(function(s){const{className:t,employeeId:o}=s,{t:c}=A(),a=X(),e=T(ee),p=T(Ie),m=T(oe),d=T(re),h=T(Oe),y={[D.INCORRECT_EMPLOYEE_DATA]:c("errors.incorrect_employee_data"),[D.INCORRECT_BIRTHDATE]:c("errors.incorrect_birthdate"),[D.INCORRECT_REGISTRATION_ADDRESS]:c("errors.incorrect_registration_address"),[D.INCORRECT_PHONE_NUMBER]:c("errors.incorrect_phone_number"),[D.INCORRECT_EMAIL]:c("errors.incorrect_email"),[D.INCORRECT_TRANSPORT_INFO]:c("errors.incorrect_transport_info"),[D.INCORRECT_CONTRACT_DATA]:c("errors.incorrect_contract_data"),[D.INCORRECT_DOCUMENTS_DATA]:c("errors.incorrect_documents_data"),[D.INCORRECT_PAYROLLS_DATA]:c("errors.incorrect_payrolls_data"),[D.NO_DATA]:c("errors.no_data"),[D.SERVER_ERROR]:c("errors.server_error")};ae(()=>{o&&a(v(o))});const f=u.useCallback(r=>{a(C.updateEmployee({firstName:r||""}))},[a]),N=u.useCallback(r=>{a(C.updateEmployee({lastName:r||""}))},[a]),O=(r,l)=>{l&&a(C.updateEmployee({birthDay:r||null}))},b=u.useCallback(r=>{a(C.updateEmployee({email:r||""}))},[a]),I=u.useCallback(r=>{a(C.updateEmployee({phoneNumber:r||""}))},[a]),k=u.useCallback(r=>{e&&e.registrationAddress&&a(C.updateEmployee({registrationAddress:{...e.registrationAddress,address1:r||""}}))},[a,e]),L=u.useCallback(r=>{e&&e.registrationAddress&&a(C.updateEmployee({registrationAddress:{...e.registrationAddress,city:r||""}}))},[a,e]),S=u.useCallback(r=>{e&&e.registrationAddress&&a(C.updateEmployee({registrationAddress:{...e.registrationAddress,zip:r||""}}))},[a,e]),H=u.useCallback(r=>{e&&e.registrationAddress&&a(C.updateEmployee({registrationAddress:{...e.registrationAddress,country:r||""}}))},[a,e]),P=u.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.drivingLicenseNumber)&&a(C.updateEmployee({transportInfo:{...e.transportInfo,drivingLicenseNumber:r||""}}))},[a,e]),z=u.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.e_100_CardNumber)&&a(C.updateEmployee({transportInfo:{...e.transportInfo,e_100_CardNumber:r||""}}))},[a,e]),F=u.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.expectedKmPerDay)&&a(C.updateEmployee({transportInfo:{...e.transportInfo,expectedKmPerDay:r||""}}))},[a,e]),B=u.useCallback(r=>{var l;e&&((l=e.contractData)!=null&&l.position)&&a(C.updateEmployee({contractData:{...e.contractData,position:r||""}}))},[a,e]),U=u.useCallback(r=>{var l;e&&((l=e.contractData)!=null&&l.contractNumber)&&a(C.updateEmployee({contractData:{...e.contractData,contractNumber:r||""}}))},[a,e]),M=(r,l)=>{l&&a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,acceptionDate:r||null}}))},Y=(r,l)=>{l&&a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,dismissalDate:r||null}}))},K=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.employmentDays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,employmentDays:E||0}}))}},[a,e]),W=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.annualHolidays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,annualHolidays:E||0}}))}},[a,e]),Z=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.fatherHolidays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,fatherHolidays:E}}))}},[a,e]),ce=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.unpaidHolidays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e==null?void 0:e.contractData,unpaidHolidays:E||0}}))}},[a,e]),de=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.truancyDays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e.contractData,truancyDays:E||0}}))}},[a,e]),ue=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.allowedAbsenceDays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e.contractData,allowedAbsenceDays:E||0}}))}},[a,e]),me=u.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.unusedHolidays)){const E=r&&parseInt(r,10)||0;a(C.updateEmployee({contractData:{...e.contractData,unusedHolidays:E||0}}))}},[a,e]),pe=u.useCallback((r,l)=>{if(e&&e.documents&&e.documents[r]){const E=[...e.documents];E[r]={...E[r],title:l||""},a(C.updateEmployee({documents:E}))}},[a,e]),ye=u.useCallback((r,l,E)=>{if(E&&e&&e.documents&&e.documents[r]){const j=[...e.documents];j[r]={...j[r],issueDate:l||null},a(C.updateEmployee({documents:j}))}},[a,e]),Ce=u.useCallback((r,l,E)=>{if(E&&e&&e.documents&&e.documents[r]){const j=[...e.documents];j[r]={...j[r],expirationDate:l||null},a(C.updateEmployee({documents:j}))}},[a,e]);return n.jsx(se,{reducers:Be,children:n.jsxs(_,{gap:"8",max:!0,className:J("",[t],{}),children:[n.jsx(ke,{}),(h==null?void 0:h.length)&&h.map(r=>n.jsx(R,{"data-testid":"EditableProfileCard.Error",variant:"error",text:y[r]},r)),n.jsx(Fe,{data:e,"data-testid":"ProfileCard",isLoading:p,error:m,readonly:d,onChangeFirstname:f,onChangeLastname:N,onChangeBirthday:O,onChangeEmail:b,onChangePhoneNumber:I,onChangeRegistrationAddress:k,onChangeCity:L,onChangeZip:S,onChangeCountry:H,onChangeDrivingLicenseNumber:P,onChangeE100CardNumber:z,onChangeExpectedKmPerDay:F,onChangePosition:B,onChangeContractNumber:U,onChangeAcceptionDate:M,onChangeDismissalDate:Y,onChangeEmployementDays:K,onChangeeAnnualHolidays:W,onChangeFatherHolidays:Z,onChangeUnpaidHolidays:ce,onChangeTruancyDays:de,onChangeAllowedAbsenceDays:ue,onChangeUnusedHolidays:me,onChangeDocumentTitle:pe,onChangeDocumentIssueDate:ye,onChangeDocumentExpirationDate:Ce})]})})}),Me=()=>{const{t:i}=A();return n.jsx(x,{justify:"center",max:!0,children:n.jsx(R,{variant:"error",title:i("Profile loading error"),text:i("Try to refresh your page"),align:"center"})})},Ye={employeeDetails:le},Ze=u.memo(function(s){const{className:t,employeeId:o}=s,c=X(),a=T(oe);ae(()=>{c(v(o))});let e;return a?e=n.jsx(Me,{}):e=n.jsx(Ue,{employeeId:o}),n.jsx(se,{reducers:Ye,removeAfterUnmount:!0,children:n.jsx(_,{gap:"16",max:!0,align:"center",className:J(Te.employeeDetails,[t]),children:e})})}),Ke="_employeeList_ca39e_1",$e={employeeList:Ke};function Ge(i){return i?"Yes":"No"}const qe=u.memo(function(s){const{className:t,employees:o,isLoading:c}=s,{t:a}=A("employees"),e=[{key:"id",header:"No."},{key:"avatar",header:a("Photo")},{key:"firstName",header:a("First Name")},{key:"lastName",header:a("Last Name")},{key:"birthDay",header:a("Birthday"),render:p=>Re(p)},{key:"contractData",header:a("Capacity"),nestedKeys:["position"]},{key:"registrationAddress",header:a("Location"),nestedKeys:["city"]},{key:"phoneNumber",header:a("Phone Number")},{key:"email",header:"Email"},{key:"isAvailable",header:a("Available"),render:p=>Ge(p)}];return c?n.jsx(xe,{}):!c&&!o.length?n.jsx("div",{className:J($e.employeeList,[t],{}),children:n.jsx(R,{size:"l",title:a("Employees not found")})}):n.jsx(n.Fragment,{children:n.jsx(_e,{title:a("List of employees"),columns:e,data:o,redirect:Ae,children:n.jsx(Ne,{data:o,isLoading:c,fileName:"Employees"})})})});export{Ze as E,qe as a};
