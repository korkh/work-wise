import{c as Q,T as X,B as se,a as he,r as d,d as A,H as De,g as T,e as ee,i as ge,f as Ee,$ as fe,k as a,R as b,m as W,n as R,o as G,C as _,I as g,a0 as xe,q as ne,S as j,F as be,G as Re,a1 as je,E as _e}from"./index-BCkvkEV-.js";import{D as oe}from"./DynamicReducerLoader-BOFNcJCo.js";import{S as te,D as L}from"./DateInput-BKvXqB25.js";const Ae="_employeeDetails_1bu1w_1",Ne={employeeDetails:Ae},Te=i=>{var n;return((n=i.employeeDetails)==null?void 0:n.isLoading)||!1},re=i=>{var n;return(n=i.employeeDetails)==null?void 0:n.error},Ie=i=>{var n;return(n=i.employeeDetails)==null?void 0:n.validateErrors},ae=i=>{var n;return(n=i.employeeDetails)==null?void 0:n.form},ie=i=>{var n;return(n=i.employeeDetails)==null?void 0:n.readonly},k=Q("employeeDetails/fetchEmployeeById",async(i,n)=>{const{extra:t,rejectWithValue:o}=n,c=localStorage.getItem(X);if(!c)return o("User not found");try{if(!i)throw new Error;const s=JSON.parse(c);if(!s)return o("Invalid token data");const e=await t.api.get(`/employees/${i}`,{headers:{Authorization:`Bearer ${s}`}});if(!e.data)throw new Error;return e.data}catch(s){return console.error("Failed to fetch employee data!",s),o("Failed to fetch employee data")}});var D=(i=>(i.INCORRECT_EMPLOYEE_DATA="incorrect_employee_data",i.INCORRECT_BIRTHDATE="incorrect_birthdate",i.INCORRECT_REGISTRATION_ADDRESS="incorrect_registration_address",i.INCORRECT_PHONE_NUMBER="incorrect_phone_number",i.INCORRECT_EMAIL="incorrect_email",i.INCORRECT_TRANSPORT_INFO="incorrect_transport_info",i.INCORRECT_CONTRACT_DATA="incorrect_contract_data",i.INCORRECT_DOCUMENTS_DATA="incorrect_documents_data",i.INCORRECT_PAYROLLS_DATA="incorrect_payrolls_data",i.NO_DATA="no_data",i.SERVER_ERROR="server_error",i))(D||{});const Oe=i=>{if(!i)return[D.NO_DATA];const{firstName:n,lastName:t,birthDay:o,registrationAddress:c,phoneNumber:s,email:e,transportInfo:u,contractData:C,documents:p,payrolls:m}=i,y=[];(!(n!=null&&n.trim())||!(t!=null&&t.trim()))&&y.push(D.INCORRECT_EMPLOYEE_DATA),e!=null&&e.match(/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/)||y.push(D.INCORRECT_EMAIL),s!=null&&s.match(/^\+?[1-9]\d{1,14}$/)||y.push(D.INCORRECT_PHONE_NUMBER),(!c||!c.address1.trim()||!c.city.trim())&&y.push(D.INCORRECT_REGISTRATION_ADDRESS);const f=new Date;return f.setFullYear(f.getFullYear()-18),o>=f&&y.push(D.INCORRECT_BIRTHDATE),C&&C.acceptionDate&&C.dismissalDate&&C.acceptionDate>=C.dismissalDate&&y.push(D.INCORRECT_CONTRACT_DATA),p!=null&&p.length||y.push(D.INCORRECT_DOCUMENTS_DATA),p==null||p.forEach(N=>{N.expirationDate&&N.expirationDate<new Date&&y.push(D.INCORRECT_DOCUMENTS_DATA)}),u&&!u.drivingLicenseNumber.trim()&&y.push(D.INCORRECT_TRANSPORT_INFO),m!=null&&m.length||y.push(D.INCORRECT_PAYROLLS_DATA),y},V=Q("employeeDetails/updateEmployeeData",async(i,n)=>{const{extra:t,rejectWithValue:o,getState:c}=n,s=ae(c()),e=Oe(s);if(e.length)return o(e);const u=localStorage.getItem(X);if(!u)return o([D.NO_DATA]);try{const C=JSON.parse(u);if(!C)return o([D.NO_DATA]);const p=await t.api.put(`/employees/${s==null?void 0:s.id}`,s,{headers:{Authorization:`Bearer ${C}`}});if(!p.data)throw new Error;return p.data}catch(C){return console.error("Failed to update employee data!",C),o([D.SERVER_ERROR])}}),J=Q("employeeDetails/deleteEmployeeById",async(i,n)=>{const{extra:t,rejectWithValue:o}=n,c=localStorage.getItem(X);if(!c)return o([D.NO_DATA]);try{const s=JSON.parse(c);if(!s)return o([D.NO_DATA]);const e=await t.api.delete(`/employees/${i}`,{headers:{Authorization:`Bearer ${s}`}});if(e.status!==204&&e.status!==200)throw new Error;return i}catch(s){return se.error("Failed to delete employee data!"),console.error("Failed to delete employee data!",s),o([D.SERVER_ERROR])}}),we={isLoading:!1,readonly:!0,error:void 0,data:void 0},ve=he({name:"employeeDetails",initialState:we,reducers:{setReadonly:(i,n)=>{i.readonly=n.payload},cancelEdit:i=>{i.readonly=!0,i.validateErrors=void 0,i.form=i.data},updateEmployee:(i,n)=>{const{id:t,...o}=n.payload;i.form&&t!==void 0&&(i.form.id=t,i.form={...i.form,...o})}},extraReducers:i=>{i.addCase(k.pending,n=>{n.error=void 0,n.isLoading=!0}).addCase(k.fulfilled,(n,t)=>{n.isLoading=!1,n.data=t.payload,n.form=t.payload}).addCase(k.rejected,(n,t)=>{n.isLoading=!1,n.error=t.payload}).addCase(V.pending,n=>{n.validateErrors=void 0,n.isLoading=!0}).addCase(V.fulfilled,(n,t)=>{n.isLoading=!1,n.data=t.payload,n.form=t.payload,n.readonly=!0,n.validateErrors=void 0}).addCase(V.rejected,(n,t)=>{n.isLoading=!1,n.validateErrors=t.payload}).addCase(J.fulfilled,n=>{n.isLoading=!1,n.data=void 0,n.form=void 0}).addCase(J.rejected,(n,t)=>{n.isLoading=!1,n.validateErrors=t.payload}).addCase(J.pending,n=>{n.validateErrors=void 0,n.isLoading=!0})}}),{actions:h,reducer:le}=ve,ke=d.memo(function(n){const{className:t}=n,{t:o}=A(),c=De(),s=c==null?void 0:c.role.includes("Admin"),e=T(ie),u=T(ae),[C,p]=d.useState(!1),m=ee(),y=ge(),f=Ee(),N=d.useCallback(()=>{m(h.setReadonly(!1))},[m]),v=d.useCallback(()=>{m(h.setReadonly(!1)),p(!0)},[m]),x=d.useCallback(()=>{m(h.cancelEdit())},[m]),O=d.useCallback(()=>{m(V()),y()},[m,y]),w=d.useCallback(()=>{u!=null&&u.id&&m(J(String(u.id))),f(fe())},[m,u==null?void 0:u.id,f]);return a.jsx(te,{padding:"24",max:!0,border:"partial",children:a.jsxs(b,{max:!0,justify:"between",className:W("",[t],{}),children:[a.jsx(R,{title:o("Employee details")}),s&&a.jsx(a.Fragment,{children:e?a.jsxs(a.Fragment,{children:[a.jsx(G,{onClick:N,"data-testid":"EditableProfileCardHeader.EditButton",children:o("Edit")}),a.jsx(G,{onClick:v,"data-testid":"EditableProfileCardHeader.DeleteButton",children:o("Delete")})]}):a.jsxs(b,{gap:"8",children:[a.jsx(G,{onClick:x,"data-testid":"EditableProfileCardHeader.CancelButton",color:"error",children:o("Cancel")}),a.jsx(G,{onClick:C?w:O,"data-testid":"EditableProfileCardHeader.SaveButton",color:"success",children:o("Confirm")})]})})]})})}),Le=d.memo(function(n){var O,w,S,H,P,z,B,F,U,M,Y,K,$;const{data:t,readonly:o,onChangePosition:c,onChangeContractNumber:s,onChangeAcceptionDate:e,onChangeDismissalDate:u,onChangeeAnnualHolidays:C,onChangeFatherHolidays:p,onChangeEmployementDays:m,onChangeUnpaidHolidays:y,onChangeTruancyDays:f,onChangeAllowedAbsenceDays:N,onChangeUnusedHolidays:v}=n,{t:x}=A();return a.jsxs(b,{max:!0,gap:"24",children:[a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(R,{title:"Contract details"}),a.jsx(g,{size:"s",value:(O=t==null?void 0:t.contractData)==null?void 0:O.position,label:x("Capacity"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.position"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(w=t==null?void 0:t.contractData)==null?void 0:w.contractNumber,label:x("Contract number"),onChange:s,readonly:o,"data-testid":"EmployeeDetailsCard.contractNumber"}),a.jsx(L,{gap:"8",width:"70%",justify:"between",selected:(S=t==null?void 0:t.contractData)==null?void 0:S.acceptionDate,onChange:e||((Z,q)=>{}),label:x("Accepted on"),readonly:o,"data-testid":"EmployeeDetailsCard.acceptionDate"}),a.jsx(L,{gap:"8",width:"70%",justify:"between",selected:(H=t==null?void 0:t.contractData)==null?void 0:H.dismissalDate,onChange:u||((Z,q)=>{}),label:x("Dismissal date"),readonly:o,"data-testid":"EmployeeDetailsCard.dismissalDate"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(P=t==null?void 0:t.contractData)==null?void 0:P.annualHolidays,label:x("Annual holidays"),onChange:C,readonly:o,"data-testid":"EmployeeDetailsCard.annualHolidays"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(B=(z=t==null?void 0:t.contractData)==null?void 0:z.fatherHolidays)==null?void 0:B.toString(),label:x("Father holidays"),onChange:p,readonly:o,"data-testid":"EmployeeDetailsCard.fatherHolidays"})]}),a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(g,{size:"s",type:"number",width:"70%",justify:"between",value:(U=(F=t==null?void 0:t.contractData)==null?void 0:F.employmentDays)==null?void 0:U.toString(),label:x("Employment days"),onChange:m,readonly:!0,"data-testid":"EmployeeDetailsCard.employmentDays"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(M=t==null?void 0:t.contractData)==null?void 0:M.unpaidHolidays,label:x("Unpaid holidays"),onChange:y,readonly:o,"data-testid":"EmployeeDetailsCard.unpaidHolidays"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(Y=t==null?void 0:t.contractData)==null?void 0:Y.truancyDays,label:x("Truancy days"),onChange:f,readonly:o,"data-testid":"EmployeeDetailsCard.truancyDays"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:(K=t==null?void 0:t.contractData)==null?void 0:K.allowedAbsenceDays,label:x("Allowed absence days"),onChange:N,readonly:o,"data-testid":"EmployeeDetailsCard.allowedAbsenceDays"}),a.jsx(g,{size:"s",width:"70%",justify:"between",value:($=t==null?void 0:t.contractData)==null?void 0:$.unusedHolidays,label:x("Unused holidays"),onChange:v,readonly:!0,"data-testid":"EmployeeDetailsCard.unusedHolidays"})]})]})}),Se=d.memo(function(n){const{data:t,readonly:o,onChangeFirstname:c,onChangeLastname:s,onChangeBirthday:e,onChangeEmail:u,onChangePhoneNumber:C}=n,{t:p}=A();return a.jsx(b,{gap:"24",max:!0,children:a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(R,{title:"Personal information"}),a.jsx(g,{size:"s",value:t==null?void 0:t.firstName,label:p("Firstname"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.firstName"}),a.jsx(g,{size:"s",value:t==null?void 0:t.lastName,label:p("Lastname"),onChange:s,readonly:o,"data-testid":"EmployeeDetailsCard.lastName"}),a.jsx(L,{selected:t==null?void 0:t.birthDay,onChange:e||((m,y)=>{}),label:p("Birthday"),readonly:o,"data-testid":"EmployeeDetailsCard.birthDay"}),a.jsx(g,{size:"s",value:t==null?void 0:t.email,label:p("Email"),onChange:u,readonly:o,"data-testid":"EmployeeDetailsCard.email"}),a.jsx(g,{size:"s",width:"88%",justify:"between",value:t==null?void 0:t.phoneNumber,label:p("Phone number"),onChange:C,readonly:o,"data-testid":"EmployeeDetailsCard.phoneNumber"})]})})}),He=d.memo(function(n){var p,m,y,f;const{data:t,readonly:o,onChangeRegistrationAddress:c,onChangeCity:s,onChangeZip:e,onChangeCountry:u}=n,{t:C}=A();return a.jsx(b,{gap:"24",max:!0,children:a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(R,{title:"Registration address"}),a.jsx(g,{size:"s",value:(p=t==null?void 0:t.registrationAddress)==null?void 0:p.address1,label:C("Address"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.address"}),a.jsx(g,{size:"s",value:(m=t==null?void 0:t.registrationAddress)==null?void 0:m.city,label:C("City"),onChange:s,readonly:o,"data-testid":"EmployeeDetailsCard.city"}),a.jsx(g,{size:"s",value:(y=t==null?void 0:t.registrationAddress)==null?void 0:y.zip,label:C("ZIP"),onChange:e,readonly:o,"data-testid":"EmployeeDetailsCard.zip"}),a.jsx(g,{size:"s",value:(f=t==null?void 0:t.registrationAddress)==null?void 0:f.country,label:C("Country"),onChange:u,readonly:o,"data-testid":"EmployeeDetailsCard.country"})]})})}),Pe=d.memo(function(n){var C,p,m,y;const{data:t,readonly:o,onChangeDrivingLicenseNumber:c,onChangeE100CardNumber:s,onChangeExpectedKmPerDay:e}=n,{t:u}=A();return a.jsx(b,{gap:"24",max:!0,children:a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(R,{title:"Transport information"}),a.jsx(g,{size:"s",width:"85%",justify:"between",value:(C=t==null?void 0:t.transportInfo)==null?void 0:C.drivingLicenseNumber,label:u("Driving license"),onChange:c,readonly:o,"data-testid":"EmployeeDetailsCard.drivingLicenseNumber"}),a.jsx(g,{size:"s",width:"85%",justify:"between",value:(p=t==null?void 0:t.transportInfo)==null?void 0:p.e_100_CardNumber,label:u("e100 Card Number"),onChange:s,readonly:o,"data-testid":"EmployeeDetailsCard.e100CardNumber"}),a.jsx(g,{size:"s",value:(m=t==null?void 0:t.transportInfo)==null?void 0:m.cars.map(f=>f.manufacturer+" "+f.model).toString(),label:u("Cars"),onChange:()=>{},readonly:o,"data-testid":"EmployeeDetailsCard.cars"}),a.jsx(g,{size:"s",width:"90%",justify:"between",value:(y=t==null?void 0:t.transportInfo)==null?void 0:y.expectedKmPerDay,label:u("Km per day"),onChange:e,readonly:o,"data-testid":"EmployeeDetailsCard.expectedKmPerDay"})]})})}),ze=d.memo(function(n){var C;const{data:t,readonly:o,onChangeDocumentTitle:c,onChangeDocumentIssueDate:s,onChangeDocumentExpirationDate:e}=n,{t:u}=A();return!t&&t!==void 0?(se.error("NO DOCUMENTS FOUND. TRY AGAIN LATER"),a.jsx(R,{title:"NO DOCUMENTS FOUND!"})):a.jsx(b,{gap:"24",max:!0,children:a.jsxs(_,{gap:"16",max:!0,children:[a.jsx(R,{title:"Employee's documents"}),(C=t==null?void 0:t.documents)==null?void 0:C.map((p,m)=>a.jsxs(a.Fragment,{children:[a.jsx(g,{size:"s",width:"97%",value:p.title,label:u("Title"),onChange:y=>c&&c(m,y),readonly:o,"data-testid":"DocumentsData.title"}),a.jsx(L,{gap:"8",width:"93%",label:u("Issue date"),selected:p.issueDate,onChange:(y,f)=>s&&s(m,y,f),readonly:o,"data-testid":"DocumentsData.issueDate"}),a.jsx(L,{gap:"8",width:"92%",selected:p.expirationDate,onChange:(y,f)=>e&&e(m,y,f),label:u("Expire date"),readonly:o,"data-testid":"DocumentsData.expirationDate"})]}))]})})}),Be=d.memo(function(n){const{className:t,data:o}=n;return a.jsx(te,{max:!0,padding:"16",className:t,border:"partial",children:a.jsxs(_,{gap:"32",max:!0,children:[(o==null?void 0:o.avatar)&&a.jsx(b,{justify:"center",max:!0,children:a.jsx(xe,{size:200,src:o==null?void 0:o.avatar})}),a.jsx(Se,{...n}),(o==null?void 0:o.contractData)&&a.jsx(Le,{...n}),a.jsx(He,{...n}),(o==null?void 0:o.transportInfo)&&a.jsx(Pe,{...n}),(o==null?void 0:o.documents)&&a.jsx(ze,{...n})]})})}),Fe={employeeDetails:le},Ue=d.memo(function(n){const{className:t,employeeId:o}=n,{t:c}=A(),s=ee(),e=T(ae),u=T(Te),C=T(re),p=T(ie),m=T(Ie),y={[D.INCORRECT_EMPLOYEE_DATA]:c("errors.incorrect_employee_data"),[D.INCORRECT_BIRTHDATE]:c("errors.incorrect_birthdate"),[D.INCORRECT_REGISTRATION_ADDRESS]:c("errors.incorrect_registration_address"),[D.INCORRECT_PHONE_NUMBER]:c("errors.incorrect_phone_number"),[D.INCORRECT_EMAIL]:c("errors.incorrect_email"),[D.INCORRECT_TRANSPORT_INFO]:c("errors.incorrect_transport_info"),[D.INCORRECT_CONTRACT_DATA]:c("errors.incorrect_contract_data"),[D.INCORRECT_DOCUMENTS_DATA]:c("errors.incorrect_documents_data"),[D.INCORRECT_PAYROLLS_DATA]:c("errors.incorrect_payrolls_data"),[D.NO_DATA]:c("errors.no_data"),[D.SERVER_ERROR]:c("errors.server_error")};ne(()=>{o&&s(k(o))});const f=d.useCallback(r=>{s(h.updateEmployee({firstName:r||""}))},[s]),N=d.useCallback(r=>{s(h.updateEmployee({lastName:r||""}))},[s]),v=(r,l)=>{l&&s(h.updateEmployee({birthDay:r||null}))},x=d.useCallback(r=>{s(h.updateEmployee({email:r||""}))},[s]),O=d.useCallback(r=>{s(h.updateEmployee({phoneNumber:r||""}))},[s]),w=d.useCallback(r=>{e&&e.registrationAddress&&s(h.updateEmployee({registrationAddress:{...e.registrationAddress,address1:r||""}}))},[s,e]),S=d.useCallback(r=>{e&&e.registrationAddress&&s(h.updateEmployee({registrationAddress:{...e.registrationAddress,city:r||""}}))},[s,e]),H=d.useCallback(r=>{e&&e.registrationAddress&&s(h.updateEmployee({registrationAddress:{...e.registrationAddress,zip:r||""}}))},[s,e]),P=d.useCallback(r=>{e&&e.registrationAddress&&s(h.updateEmployee({registrationAddress:{...e.registrationAddress,country:r||""}}))},[s,e]),z=d.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.drivingLicenseNumber)&&s(h.updateEmployee({transportInfo:{...e.transportInfo,drivingLicenseNumber:r||""}}))},[s,e]),B=d.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.e_100_CardNumber)&&s(h.updateEmployee({transportInfo:{...e.transportInfo,e_100_CardNumber:r||""}}))},[s,e]),F=d.useCallback(r=>{var l;e&&((l=e.transportInfo)!=null&&l.expectedKmPerDay)&&s(h.updateEmployee({transportInfo:{...e.transportInfo,expectedKmPerDay:r||""}}))},[s,e]),U=d.useCallback(r=>{var l;e&&((l=e.contractData)!=null&&l.position)&&s(h.updateEmployee({contractData:{...e.contractData,position:r||""}}))},[s,e]),M=d.useCallback(r=>{var l;e&&((l=e.contractData)!=null&&l.contractNumber)&&s(h.updateEmployee({contractData:{...e.contractData,contractNumber:r||""}}))},[s,e]),Y=(r,l)=>{l&&s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,acceptionDate:r||null}}))},K=(r,l)=>{l&&s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,dismissalDate:r||null}}))},$=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.employmentDays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,employmentDays:E||0}}))}},[s,e]),Z=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.annualHolidays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,annualHolidays:E||0}}))}},[s,e]),q=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.fatherHolidays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,fatherHolidays:E}}))}},[s,e]),ce=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.unpaidHolidays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e==null?void 0:e.contractData,unpaidHolidays:E||0}}))}},[s,e]),de=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.truancyDays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e.contractData,truancyDays:E||0}}))}},[s,e]),ue=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.allowedAbsenceDays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e.contractData,allowedAbsenceDays:E||0}}))}},[s,e]),me=d.useCallback(r=>{var l;if(e&&((l=e.contractData)!=null&&l.unusedHolidays)){const E=r&&parseInt(r,10)||0;s(h.updateEmployee({contractData:{...e.contractData,unusedHolidays:E||0}}))}},[s,e]),pe=d.useCallback((r,l)=>{if(e&&e.documents&&e.documents[r]){const E=[...e.documents];E[r]={...E[r],title:l||""},s(h.updateEmployee({documents:E}))}},[s,e]),ye=d.useCallback((r,l,E)=>{if(E&&e&&e.documents&&e.documents[r]){const I=[...e.documents];I[r]={...I[r],issueDate:l||null},s(h.updateEmployee({documents:I}))}},[s,e]),Ce=d.useCallback((r,l,E)=>{if(E&&e&&e.documents&&e.documents[r]){const I=[...e.documents];I[r]={...I[r],expirationDate:l||null},s(h.updateEmployee({documents:I}))}},[s,e]);return a.jsx(oe,{reducers:Fe,children:a.jsxs(_,{gap:"8",max:!0,className:W("",[t],{}),children:[a.jsx(ke,{}),(m==null?void 0:m.length)&&m.map(r=>a.jsx(R,{"data-testid":"EditableProfileCard.Error",variant:"error",text:y[r]},r)),a.jsx(Be,{data:e,"data-testid":"ProfileCard",isLoading:u,error:C,readonly:p,onChangeFirstname:f,onChangeLastname:N,onChangeBirthday:v,onChangeEmail:x,onChangePhoneNumber:O,onChangeRegistrationAddress:w,onChangeCity:S,onChangeZip:H,onChangeCountry:P,onChangeDrivingLicenseNumber:z,onChangeE100CardNumber:B,onChangeExpectedKmPerDay:F,onChangePosition:U,onChangeContractNumber:M,onChangeAcceptionDate:Y,onChangeDismissalDate:K,onChangeEmployementDays:$,onChangeeAnnualHolidays:Z,onChangeFatherHolidays:q,onChangeUnpaidHolidays:ce,onChangeTruancyDays:de,onChangeAllowedAbsenceDays:ue,onChangeUnusedHolidays:me,onChangeDocumentTitle:pe,onChangeDocumentIssueDate:ye,onChangeDocumentExpirationDate:Ce})]})})}),Me=()=>{const{t:i}=A();return a.jsx(b,{justify:"center",max:!0,children:a.jsx(R,{variant:"error",title:i("Profile loading error"),text:i("Try to refresh your page"),align:"center"})})},Ye={employeeDetails:le},qe=d.memo(function(n){const{className:t,employeeId:o}=n,c=ee(),s=T(re);ne(()=>{c(k(o))});let e;return s?e=a.jsx(Me,{}):e=a.jsx(Ue,{employeeId:o}),a.jsx(oe,{reducers:Ye,removeAfterUnmount:!0,children:a.jsx(_,{gap:"16",max:!0,align:"center",className:W(Ne.employeeDetails,[t]),children:e})})}),Ke="_employeeList_ca39e_1",$e={employeeList:Ke};function Ge(i){return i?"Yes":"No"}const Ve=d.memo(function(){return a.jsx(te,{padding:"24",max:!0,children:a.jsxs(b,{gap:"32",children:[a.jsx(b,{max:!0,justify:"center",children:a.jsx(j,{border:"100%",width:128,height:128})}),a.jsxs(b,{gap:"32",max:!0,children:[a.jsxs(b,{gap:"16",max:!0,children:[a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38})]}),a.jsxs(b,{gap:"16",max:!0,children:[a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38}),a.jsx(j,{width:"100%",height:38})]})]})]})})}),Qe=d.memo(function(n){const{className:t,employees:o,isLoading:c}=n,{t:s}=A("employees"),e=[{key:"id",header:"No."},{key:"avatar",header:s("Photo")},{key:"firstName",header:s("First Name")},{key:"lastName",header:s("Last Name")},{key:"birthDay",header:s("Birthday"),render:u=>be(u)},{key:"contractData",header:s("Capacity"),nestedKeys:["position"]},{key:"registrationAddress",header:s("Location"),nestedKeys:["city"]},{key:"phoneNumber",header:s("Phone Number")},{key:"email",header:"Email"},{key:"isAvailable",header:s("Available"),render:u=>Ge(u)}];return c?a.jsx(Ve,{}):!c&&!o.length?a.jsx("div",{className:W($e.employeeList,[t],{}),children:a.jsx(R,{size:"l",title:s("Employees not found")})}):a.jsx(a.Fragment,{children:a.jsx(Re,{title:s("List of employees"),columns:e,data:o,redirect:je,children:a.jsx(_e,{data:o,isLoading:c,fileName:"Employees"})})})});export{qe as E,Ve as T,Qe as a};
